## Проект Charity_fund
### Описание проекта:
Администратор может учередить какой-то благотворительный фонд для того чтобы собрать деньги на какие-то нужды для кошек, еду, жилье, передержки и так далее. Обычный пользователь может внести какую-то сумму при этом он не выбирает куда конкретно будет направлена сумма, деньги распределяются по принципу, какой первый проект был создан, туда и будут направленны деньги и пока проект не закроется деньги будут напрвляться в данный проект, если только его не закроют.

### Технологии создания проекта:
- Python 3.9 его можно скачать по ссылке https://www.python.org/ заходите выбирается нужную версию и скачиваете.
- FastAPI 0.78.0 https://fastapi.tiangolo.com/
- SQLAlchemy 1.4.36 https://www.sqlalchemy.org/
- pydantic 1.9.1 https://docs.pydantic.dev/
- uvicorn 0.17.6 https://www.uvicorn.org/
- alembic 1.7.7 https://alembic.sqlalchemy.org/en/latest/

### Запуск проекта
- Скачиваете проект с удаленного репозитория себе на локальную машину.
- Устанавливаете виртуальное окруженение командой `py -3.9 venv venv` в корне проекта появится папка venv
- Устанавливаете все зависимости из файла requirements.txt перед этим не забыв активировать виртуальное окружнение командой `source venv/Scripts/activate` - если у вас Windows и `source venv/bin/activate` - если не Windows, обновите pip командой `python -m pip install --upgrade pip`
команда для установки зависимостей `pip install -r requirements.txt`
- Из корневой директории запустите приложение `uvicorn app.main:app --reload` проект должен запуститься.

Всю документацию можно посмотреть по адресу http://localhost:8000/docs или http://127.0.0.1:8000/redoc <br>
Также при запуске проекта автоматически создается superuser

### .env файл<br>

APP_TITLE = Сюда пишется название вашего проекта<br>
APP_DESCRIPTION = Описание вашего проекта<br>
DATABASE_URL= адрес вашей базы данных<br>
SECRET = секретный ключ <br>
FIRST_SUPERUSER_EMAIL = email вашего суперпользователя<br>
FIRST_SUPERUSER_PASSWORD = пароль вашего суперпользователя<br>

### Примеры запросов и ответы на них:<br>
При GET запросе по этому адресу http://127.0.0.1:8000/charity_project/ вернеться список созданных проектов.<br>
```
[
  {
    "name": "test1",
    "description": "string",
    "full_amount": 1000,
    "id": 1,
    "invested_amount": 1000,
    "fully_invested": true,
    "create_date": "2023-03-25T03:55:11.810457"
  },
  {
    "name": "test2",
    "description": "string",
    "full_amount": 200,
    "id": 2,
    "invested_amount": 200,
    "fully_invested": true,
    "create_date": "2023-03-25T03:56:05.804057"
  }
]
```
Если вы хотете создать или изменить что-то, то надо выпольнить POST или PATCH запрос,<br>
сделать это можно в самой документации Swagger(http://localhost:8000/docs),<br>
![Снимок экрана (6)](https://user-images.githubusercontent.com/101176519/227754145-dc8a22f8-f2c6-4cde-a618-b75dd83483b7.png)

но прежде чем это сделать вам надо авторизоваться под суперпользователем который у вас автоматически создался,<br>
потому что некоторые действия может выполнять user с правами суперпользователя.<br>
В правом врехнем есть кнопка Authorize там нужно ввести username(email суперпользователя) и password(пароль) после того как вы авторизуетесь вам будут доступен весь фукнционал.<br>
Выбираете дейсвтие какое хотите сделать, в правом углу будет кнопка `Try it out`<br>
![Снимок экрана (7)](https://user-images.githubusercontent.com/101176519/227754256-3595dc7e-9f04-4eff-a32f-d05eb086db2a.png)
нажимаете её b будет доступен Requets body где будет json по умолчанию который вы хотите отправить в теле запроса или будет доступен Parameters там будут значения которые вы будете передавать в URL, или же будет доступно и то и другое.<br>
Затем надо нажать кнопку Execute. Выполниться запрос и если все хорошо то при создании Проекта вам вернеться примерно такой json<br>
```
{
  "name": "string",
  "description": "string",
  "full_amount": 1,
  "id": 1,
  "invested_amount": 0,
  "fully_invested": false,
  "create_date": "2023-03-26T03:53:51.300337"
}
```
Если вы передали в запрос невалидные данные то вернеться json показывающий какие именно данные вы передали не правильно<br>
```
{
  "detail": [
    {
      "loc": [
        "body",
        "full_amount"
      ],
      "msg": "ensure this value is greater than or equal to 1",
      "type": "value_error.number.not_ge",
      "ctx": {
        "limit_value": 1
      }
    }
  ]
}
```
